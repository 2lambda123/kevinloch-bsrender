<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <style>
      body {
        display: table;
        background-color: #e8e8e8;
        white-space: nowrap;
      }
      button {
        color: #000000;
      }
      input, select {
        color: #000000;
        background-color: #e0b0b0;
        border: 1px solid #404040;
      }
      #nav {
        padding:10px;
        text-align: center;
      }
      #navigation_style {
        display: table-cell;
        white-space: normal;
      }
      #settings_style {
        width: 400px;
        display: table-cell;
        white-space: normal;
      }
      #content_style {
        display: table-cell;
        vertical-align: top;
        padding: 0px;
        white-space: normal;
      }
      #button_style {
        text-align: center;
      }
      #rendering_style {
        vertical-align: top;
        padding: 10px;
        white-space: normal;
      }
      #footer {
        padding: 10px;
        text-align: center;
      }
      #centered {
        text-align: center;
      }
      img {
        max-width: 100%;
      }
      label {
        display: inline-block;
        width: 200px;
        text-align: right;
      }
    </style>
    <title>bsrender</title>
    <script>
      var loading_text = "Rendering image, please wait...";
      var error_text = "Error: rendering failed";
      var exr_text = "Browser does not support viewing EXR images inline, use download link";
      function loadSettingsFromURL() {
        let url = new URL(window.location.href);
        let search = url.searchParams;
        let tmpvalue = search.get("rendering_server");
        if (tmpvalue != null) {
          settings_form.rendering_server.value = tmpvalue;
        }
        tmpvalue = search.get("Gaia_db_enable");
        if (tmpvalue != null) {
          settings_form.Gaia_db_enable.value = tmpvalue;
        }
        tmpvalue = search.get("Gaia_min_parallax_quality");
        if (tmpvalue != null) {
          settings_form.Gaia_min_parallax_quality.value = tmpvalue;
        }
        tmpvalue = search.get("external_db_enable");
        if (tmpvalue != null) {
          settings_form.external_db_enable.value = tmpvalue;
        }
        tmpvalue = search.get("render_distance_min");
        if (tmpvalue != null) {
          settings_form.render_distance_min.value = tmpvalue;
        }
        tmpvalue = search.get("render_distance_max");
        if (tmpvalue != null) {
          settings_form.render_distance_max.value = tmpvalue;
        }
        tmpvalue = search.get("render_distance_selector");
        if (tmpvalue != null) {
          settings_form.render_distance_selector.value = tmpvalue;
        }
        tmpvalue = search.get("star_color_min");
        if (tmpvalue != null) {
          settings_form.star_color_min.value = tmpvalue;
        }
        tmpvalue = search.get("star_color_max");
        if (tmpvalue != null) {
          settings_form.star_color_max.value = tmpvalue;
        }
        tmpvalue = search.get("extinction_dimming_undo");
        if (tmpvalue != null) {
          settings_form.extinction_dimming_undo.value = tmpvalue;
        }
        tmpvalue = search.get("extinction_reddening_undo");
        if (tmpvalue != null) {
          settings_form.extinction_reddening_undo.value = tmpvalue;
        }
        tmpvalue = search.get("draw_crosshairs");
        if (tmpvalue == "yes") {
          settings_form.draw_crosshairs.value = tmpvalue;
        }
        tmpvalue = search.get("draw_grid_lines");
        if (tmpvalue != null) {
          settings_form.draw_grid_lines.value = tmpvalue;
        }
        tmpvalue = search.get("anti_alias_enable");
        if (tmpvalue != null) {
          settings_form.anti_alias_enable.value = tmpvalue;
        }
        tmpvalue = search.get("anti_alias_radius");
        if (tmpvalue != null) {
          settings_form.anti_alias_radius.value = tmpvalue;
        }
        tmpvalue = search.get("skyglow_enable");
        if (tmpvalue != null) {
          settings_form.skyglow_enable.value = tmpvalue;
        }
        tmpvalue = search.get("skyglow_temp");
        if (tmpvalue != null) {
          settings_form.skyglow_temp.value = tmpvalue;
        }
        tmpvalue = search.get("skyglow_per_pixel_mag");
        if (tmpvalue != null) {
          settings_form.skyglow_per_pixel_mag.value = tmpvalue;
        }
        tmpvalue = search.get("pre_limit_intensity");
        if (tmpvalue != null) {
          settings_form.pre_limit_intensity.value = tmpvalue;
        }
        tmpvalue = search.get("Gaussian_blur_radius");
        if (tmpvalue != null) {
          settings_form.Gaussian_blur_radius.value = tmpvalue;
        }
        tmpvalue = search.get("output_scaling_factor");
        if (tmpvalue != null) {
          settings_form.output_scaling_factor.value = tmpvalue;
        }
        tmpvalue = search.get("Lanczos_order");
        if (tmpvalue != null) {
          settings_form.Lanczos_order.value = tmpvalue;
        }
        tmpvalue = search.get("output_format");
        if (tmpvalue != null) {
          settings_form.output_format.value = tmpvalue;
        }
        tmpvalue = search.get("exr_compression");
        if (tmpvalue != null) {
          settings_form.exr_compression.value = tmpvalue;
        }
        tmpvalue = search.get("icc_profile");
        if (tmpvalue != null) {
          settings_form.icc_profile.value = tmpvalue;
        }
        tmpvalue = search.get("camera_res_x");
        if (tmpvalue != null) {
          settings_form.camera_res_x.value = tmpvalue;
        }
        tmpvalue = search.get("camera_res_y");
        if (tmpvalue != null) {
          settings_form.camera_res_y.value = tmpvalue;
        }
        tmpvalue = search.get("camera_fov");
        if (tmpvalue != null) {
          settings_form.camera_fov.value = tmpvalue;
        }
        tmpvalue = search.get("camera_pixel_limit_mag");
        if (tmpvalue != null) {
          settings_form.camera_pixel_limit_mag.value = tmpvalue;
        }
        tmpvalue = search.get("camera_pixel_limit_mode");
        if (tmpvalue != null) {
          settings_form.camera_pixel_limit_mode.value = tmpvalue;
        }
        tmpvalue = search.get("camera_wb_enable");
        if (tmpvalue != null) {
          settings_form.camera_wb_enable.value = tmpvalue;
        }
        tmpvalue = search.get("camera_wb_temp");
        if (tmpvalue != null) {
          settings_form.camera_wb_temp.value = tmpvalue;
        }
        tmpvalue = search.get("camera_color_saturation");
        if (tmpvalue != null) {
          settings_form.camera_color_saturation.value = tmpvalue;
        }
        tmpvalue = search.get("camera_gamma");
        if (tmpvalue != null) {
          settings_form.camera_gamma.value = tmpvalue;
        }
        tmpvalue = search.get("camera_projection");
        if (tmpvalue != null) {
          settings_form.camera_projection.value = tmpvalue;
        }
        tmpvalue = search.get("spherical_orientation");
        if (tmpvalue != null) {
          settings_form.spherical_orientation.value = tmpvalue;
        }
        tmpvalue = search.get("Airy_disk_enable");
        if (tmpvalue != null) {
          settings_form.Airy_disk_enable.value = tmpvalue;
        }
        tmpvalue = search.get("Airy_disk_first_null");
        if (tmpvalue != null) {
          settings_form.Airy_disk_first_null.value = tmpvalue;
        }
        tmpvalue = search.get("Airy_disk_max_extent");
        if (tmpvalue != null) {
          settings_form.Airy_disk_max_extent.value = tmpvalue;
        }
        tmpvalue = search.get("Airy_disk_min_extent");
        if (tmpvalue != null) {
          settings_form.Airy_disk_min_extent.value = tmpvalue;
        }
        tmpvalue = search.get("Airy_disk_obstruction");
        if (tmpvalue != null) {
          settings_form.Airy_disk_obstruction.value = tmpvalue;
        }
        tmpvalue = search.get("red_filter_preset");
        if (tmpvalue != null) {
          settings_form.red_filter_preset.value = tmpvalue;
        }
        tmpvalue = search.get("red_filter_long_limit");
        if (tmpvalue != null) {
          settings_form.red_filter_long_limit.value = tmpvalue;
        }
        tmpvalue = search.get("red_filter_short_limit");
        if (tmpvalue != null) {
          settings_form.red_filter_short_limit.value = tmpvalue;
        }
        tmpvalue = search.get("green_filter_preset");
        if (tmpvalue != null) {
          settings_form.green_filter_preset.value = tmpvalue;
        }
        tmpvalue = search.get("green_filter_long_limit");
        if (tmpvalue != null) {
          settings_form.green_filter_long_limit.value = tmpvalue;
        }
        tmpvalue = search.get("green_filter_short_limit");
        if (tmpvalue != null) {
          settings_form.green_filter_short_limit.value = tmpvalue;
        }
        tmpvalue = search.get("blue_filter_preset");
        if (tmpvalue != null) {
          settings_form.blue_filter_preset.value = tmpvalue;
        }
        tmpvalue = search.get("blue_filter_long_limit");
        if (tmpvalue != null) {
          settings_form.blue_filter_long_limit.value = tmpvalue;
        }
        tmpvalue = search.get("blue_filter_short_limit");
        if (tmpvalue != null) {
          settings_form.blue_filter_short_limit.value = tmpvalue;
        }
        tmpvalue = search.get("camera_icrs_preset");
        if (tmpvalue != null) {
          navigation_form.camera_icrs_preset.value = tmpvalue;
        }
        tmpvalue = search.get("camera_icrs_ra");
        if (tmpvalue != null) {
          navigation_form.camera_icrs_ra.value = tmpvalue;
        }
        tmpvalue = search.get("camera_icrs_dec");
        if (tmpvalue != null) {
          navigation_form.camera_icrs_dec.value = tmpvalue;
        }
        tmpvalue = search.get("camera_icrs_r");
        if (tmpvalue != null) {
          navigation_form.camera_icrs_r.value = tmpvalue;
        }
        tmpvalue = search.get("target_icrs_preset");
        if (tmpvalue != null) {
          navigation_form.target_icrs_preset.value = tmpvalue;
        }
        tmpvalue = search.get("target_icrs_ra");
        if (tmpvalue != null) {
          navigation_form.target_icrs_ra.value = tmpvalue;
        }
        tmpvalue = search.get("target_icrs_dec");
        if (tmpvalue != null) {
          navigation_form.target_icrs_dec.value = tmpvalue;
        }
        tmpvalue = search.get("target_icrs_r");
        if (tmpvalue != null) {
          navigation_form.target_icrs_r.value = tmpvalue;
        }
        tmpvalue = search.get("camera_rotation");
        if (tmpvalue != null) {
          navigation_form.camera_rotation.value = tmpvalue;
        }
        tmpvalue = search.get("camera_pan");
        if (tmpvalue != null) {
          navigation_form.camera_pan.value = tmpvalue;
        }
        tmpvalue = search.get("camera_tilt");
        if (tmpvalue != null) {
          navigation_form.camera_tilt.value = tmpvalue;
        }
        pathname = window.location.pathname;
        window.history.replaceState({}, document.title, window.location.pathname);
      };
      function abortRender() {
        let blank = "";
        document.getElementById("render_image").src = blank;
      };
      function getSettingsStr() {
        let settings_str = `?\
Gaia_db_enable=${settings_form.Gaia_db_enable.value}&\
Gaia_min_parallax_quality=${settings_form.Gaia_min_parallax_quality.value}&\
external_db_enable=${settings_form.external_db_enable.value}&\
render_distance_min=${settings_form.render_distance_min.value}&\
render_distance_max=${settings_form.render_distance_max.value}&\
render_distance_selector=${settings_form.render_distance_selector.value}&\
star_intensity_min=${settings_form.star_intensity_min.value}&\
star_intensity_max=${settings_form.star_intensity_max.value}&\
star_intensity_selector=${settings_form.star_intensity_selector.value}&\
star_color_min=${settings_form.star_color_min.value}&\
star_color_max=${settings_form.star_color_max.value}&\
extinction_dimming_undo=${settings_form.extinction_dimming_undo.value}&\
extinction_reddening_undo=${settings_form.extinction_reddening_undo.value}&\
draw_crosshairs=${settings_form.draw_crosshairs.value}&\
draw_grid_lines=${settings_form.draw_grid_lines.value}&\
skyglow_enable=${settings_form.skyglow_enable.value}&\
skyglow_temp=${settings_form.skyglow_temp.value}&\
skyglow_per_pixel_mag=${settings_form.skyglow_per_pixel_mag.value}&\
pre_limit_intensity=${settings_form.pre_limit_intensity.value}&\
Gaussian_blur_radius=${settings_form.Gaussian_blur_radius.value}&\
output_scaling_factor=${settings_form.output_scaling_factor.value}&\
Lanczos_order=${settings_form.Lanczos_order.value}&\
output_format=${settings_form.output_format.value}&\
exr_compression=${settings_form.exr_compression.value}&\
icc_profile=${settings_form.icc_profile.value}&\
camera_res_x=${settings_form.camera_res_x.value}&\
camera_res_y=${settings_form.camera_res_y.value}&\
camera_fov=${settings_form.camera_fov.value}&\
camera_pixel_limit_mag=${settings_form.camera_pixel_limit_mag.value}&\
camera_pixel_limit_mode=${settings_form.camera_pixel_limit_mode.value}&\
camera_wb_enable=${settings_form.camera_wb_enable.value}&\
camera_wb_temp=${settings_form.camera_wb_temp.value}&\
camera_color_saturation=${settings_form.camera_color_saturation.value}&\
camera_gamma=${settings_form.camera_gamma.value}&\
camera_projection=${settings_form.camera_projection.value}&\
spherical_orientation=${settings_form.spherical_orientation.value}&\
Airy_disk_enable=${settings_form.Airy_disk_enable.value}&\
Airy_disk_first_null=${settings_form.Airy_disk_first_null.value}&\
Airy_disk_max_extent=${settings_form.Airy_disk_max_extent.value}&\
Airy_disk_min_extent=${settings_form.Airy_disk_min_extent.value}&\
Airy_disk_obstruction=${settings_form.Airy_disk_obstruction.value}&\
anti_alias_enable=${settings_form.anti_alias_enable.value}&\
anti_alias_radius=${settings_form.anti_alias_radius.value}&\
red_filter_long_limit=${settings_form.red_filter_long_limit.value}&\
red_filter_short_limit=${settings_form.red_filter_short_limit.value}&\
green_filter_long_limit=${settings_form.green_filter_long_limit.value}&\
green_filter_short_limit=${settings_form.green_filter_short_limit.value}&\
blue_filter_long_limit=${settings_form.blue_filter_long_limit.value}&\
blue_filter_short_limit=${settings_form.blue_filter_short_limit.value}&\
camera_icrs_ra=${navigation_form.camera_icrs_ra.value}&\
camera_icrs_dec=${navigation_form.camera_icrs_dec.value}&\
camera_icrs_r=${navigation_form.camera_icrs_r.value}&\
target_icrs_ra=${navigation_form.target_icrs_ra.value}&\
target_icrs_dec=${navigation_form.target_icrs_dec.value}&\
target_icrs_r=${navigation_form.target_icrs_r.value}&\
camera_rotation=${navigation_form.camera_rotation.value}&\
camera_pan=${navigation_form.camera_pan.value}&\
camera_tilt=${navigation_form.camera_tilt.value}`;
        return settings_str;
      };
      function updateSettings() {
        current_href = window.location.href;
        let settings_str = getSettingsStr();
        let settings_url = `${current_href}${settings_str}`;
        settings_form.settings_url.value = settings_url;
        let src = `${settings_form.rendering_server.value}${settings_str}`;
        document.getElementById("image_download_link").href = src;
      };
      function setStatus(status_str) {
        document.getElementById("status_message").innerHTML = status_str;
      };
      function updateImage() {
        let blank = "";
        setStatus(blank);
        updateSettings();
        let settings_str = getSettingsStr();
        document.getElementById("render_image").src = blank;
        let src = `${settings_form.rendering_server.value}${settings_str}`;
        document.getElementById("render_image").onerror = null;
        if (settings_form.output_format.value < 2) {
          setStatus(loading_text);
          document.getElementById("render_image").src = src;
          document.getElementById("render_image").onload = function(remove_loading_text) {
            setStatus(blank);
          };
          document.getElementById("render_image").onerror = function(send_error) {
            setStatus(error_text);
          };
        } else {
          setStatus(exr_text);
        }
      };
      function set_red_filter_preset_user() {
        settings_form.red_filter_preset.value="User";
      };
      function set_green_filter_preset_user() {
        settings_form.green_filter_preset.value="User";
      };
      function set_blue_filter_preset_user() {
        settings_form.blue_filter_preset.value="User";
      };
      function red_filter_preset_select() {
        if (settings_form.red_filter_preset.value == "ACS-WFC-F435W") {
          settings_form.red_filter_long_limit.value="480.0";
          settings_form.red_filter_short_limit.value="385.0";
        } else if (settings_form.red_filter_preset.value == "ACS-WFC-F475W") {
          settings_form.red_filter_long_limit.value="545.0";
          settings_form.red_filter_short_limit.value="405.0";
        } else if (settings_form.red_filter_preset.value == "ACS-WFC-F555W") {
          settings_form.red_filter_long_limit.value="600.0";
          settings_form.red_filter_short_limit.value="475.0";
        } else if (settings_form.red_filter_preset.value == "ACS-WFC-F606W") {
          settings_form.red_filter_long_limit.value="710.0";
          settings_form.red_filter_short_limit.value="475.0";
        } else if (settings_form.red_filter_preset.value == "ACS-WFC-F625W") {
          settings_form.red_filter_long_limit.value="705.0";
          settings_form.red_filter_short_limit.value="560.0";
        } else if (settings_form.red_filter_preset.value == "ACS-WFC-F775W") {
          settings_form.red_filter_long_limit.value="850.0";
          settings_form.red_filter_short_limit.value="700.0";
        } else if (settings_form.red_filter_preset.value == "ACS-WFC-F814W") {
          settings_form.red_filter_long_limit.value="890.0";
          settings_form.red_filter_short_limit.value="705.0";
        } else if (settings_form.red_filter_preset.value == "WFC3-UVIS-F336W") {
          settings_form.red_filter_long_limit.value="365.0";
          settings_form.red_filter_short_limit.value="307.0";
        } else if (settings_form.red_filter_preset.value == "WFC3-UVIS-F390W") {
          settings_form.red_filter_long_limit.value="400.0";
          settings_form.red_filter_short_limit.value="391.0";
        } else if (settings_form.red_filter_preset.value == "WFC3-UVIS-F438W") {
          settings_form.red_filter_long_limit.value="465.0";
          settings_form.red_filter_short_limit.value="395.0";
        } else if (settings_form.red_filter_preset.value == "WFC3-UVIS-F475W") {
          settings_form.red_filter_long_limit.value="600.0";
          settings_form.red_filter_short_limit.value="375.0";
        } else if (settings_form.red_filter_preset.value == "WFC3-UVIS-F555W") {
          settings_form.red_filter_long_limit.value="600.0";
          settings_form.red_filter_short_limit.value="445.0";
        } else if (settings_form.red_filter_preset.value == "WFC3-UVIS-F606W") {
          settings_form.red_filter_long_limit.value="710.0";
          settings_form.red_filter_short_limit.value="475.0";
        } else if (settings_form.red_filter_preset.value == "WFC3-UVIS-F625W") {
          settings_form.red_filter_long_limit.value="705.0";
          settings_form.red_filter_short_limit.value="550.0";
        } else if (settings_form.red_filter_preset.value == "WFC3-UVIS-F775W") {
          settings_form.red_filter_long_limit.value="850.0";
          settings_form.red_filter_short_limit.value="695.0";
        } else if (settings_form.red_filter_preset.value == "WFC3-UVIS-F814W") {
          settings_form.red_filter_long_limit.value="870.0";
          settings_form.red_filter_short_limit.value="705.0";
        } else if (settings_form.red_filter_preset.value == "Typical-LRGB-Blue") {
          settings_form.red_filter_long_limit.value="495.0";
          settings_form.red_filter_short_limit.value="405.0";
        } else if (settings_form.red_filter_preset.value == "Typical-LRGB-Green") {
          settings_form.red_filter_long_limit.value="590.0";
          settings_form.red_filter_short_limit.value="495.0";
        } else if (settings_form.red_filter_preset.value == "Typical-LRGB-Red") {
          settings_form.red_filter_long_limit.value="710.0";
          settings_form.red_filter_short_limit.value="590.0";
        } else if (settings_form.red_filter_preset.value == "CIE-1931-Red") {
          settings_form.red_filter_long_limit.value="639.0";
          settings_form.red_filter_short_limit.value="571.0";
        } else if (settings_form.red_filter_preset.value == "CIE-1931-Green") {
          settings_form.red_filter_long_limit.value="589.0";
          settings_form.red_filter_short_limit.value="505.0";
        } else if (settings_form.red_filter_preset.value == "CIE-1931-Blue") {
          settings_form.red_filter_long_limit.value="479.0";
          settings_form.red_filter_short_limit.value="422.0";
        }
      };
      function green_filter_preset_select() {
        if (settings_form.green_filter_preset.value == "ACS-WFC-F435W") {
          settings_form.green_filter_long_limit.value="480.0";
          settings_form.green_filter_short_limit.value="385.0";
        } else if (settings_form.green_filter_preset.value == "ACS-WFC-F475W") {
          settings_form.green_filter_long_limit.value="545.0";
          settings_form.green_filter_short_limit.value="405.0";
        } else if (settings_form.green_filter_preset.value == "ACS-WFC-F555W") {
          settings_form.green_filter_long_limit.value="600.0";
          settings_form.green_filter_short_limit.value="475.0";
        } else if (settings_form.green_filter_preset.value == "ACS-WFC-F606W") {
          settings_form.green_filter_long_limit.value="710.0";
          settings_form.green_filter_short_limit.value="475.0";
        } else if (settings_form.green_filter_preset.value == "ACS-WFC-F625W") {
          settings_form.green_filter_long_limit.value="705.0";
          settings_form.green_filter_short_limit.value="560.0";
        } else if (settings_form.green_filter_preset.value == "ACS-WFC-F775W") {
          settings_form.green_filter_long_limit.value="850.0";
          settings_form.green_filter_short_limit.value="700.0";
        } else if (settings_form.green_filter_preset.value == "ACS-WFC-F814W") {
          settings_form.green_filter_long_limit.value="890.0";
          settings_form.green_filter_short_limit.value="705.0";
        } else if (settings_form.green_filter_preset.value == "WFC3-UVIS-F336W") {
          settings_form.green_filter_long_limit.value="365.0";
          settings_form.green_filter_short_limit.value="307.0";
        } else if (settings_form.green_filter_preset.value == "WFC3-UVIS-F390W") {
          settings_form.green_filter_long_limit.value="400.0";
          settings_form.green_filter_short_limit.value="391.0";
        } else if (settings_form.green_filter_preset.value == "WFC3-UVIS-F438W") {
          settings_form.green_filter_long_limit.value="465.0";
          settings_form.green_filter_short_limit.value="395.0";
        } else if (settings_form.green_filter_preset.value == "WFC3-UVIS-F475W") {
          settings_form.green_filter_long_limit.value="600.0";
          settings_form.green_filter_short_limit.value="375.0";
        } else if (settings_form.green_filter_preset.value == "WFC3-UVIS-F555W") {
          settings_form.green_filter_long_limit.value="600.0";
          settings_form.green_filter_short_limit.value="445.0";
        } else if (settings_form.green_filter_preset.value == "WFC3-UVIS-F606W") {
          settings_form.green_filter_long_limit.value="710.0";
          settings_form.green_filter_short_limit.value="475.0";
        } else if (settings_form.green_filter_preset.value == "WFC3-UVIS-F625W") {
          settings_form.green_filter_long_limit.value="705.0";
          settings_form.green_filter_short_limit.value="550.0";
        } else if (settings_form.green_filter_preset.value == "WFC3-UVIS-F775W") {
          settings_form.green_filter_long_limit.value="850.0";
          settings_form.green_filter_short_limit.value="695.0";
        } else if (settings_form.green_filter_preset.value == "WFC3-UVIS-F814W") {
          settings_form.green_filter_long_limit.value="870.0";
          settings_form.green_filter_short_limit.value="705.0";
        } else if (settings_form.green_filter_preset.value == "Typical-LRGB-Blue") {
          settings_form.green_filter_long_limit.value="495.0";
          settings_form.green_filter_short_limit.value="405.0";
        } else if (settings_form.green_filter_preset.value == "Typical-LRGB-Green") {
          settings_form.green_filter_long_limit.value="590.0";
          settings_form.green_filter_short_limit.value="495.0";
        } else if (settings_form.green_filter_preset.value == "Typical-LRGB-Red") {
          settings_form.green_filter_long_limit.value="710.0";
          settings_form.green_filter_short_limit.value="590.0";
        } else if (settings_form.green_filter_preset.value == "CIE-1931-Red") {
          settings_form.green_filter_long_limit.value="639.0";
          settings_form.green_filter_short_limit.value="571.0";
        } else if (settings_form.green_filter_preset.value == "CIE-1931-Green") {
          settings_form.green_filter_long_limit.value="589.0";
          settings_form.green_filter_short_limit.value="505.0";
        } else if (settings_form.green_filter_preset.value == "CIE-1931-Blue") {
          settings_form.green_filter_long_limit.value="479.0";
          settings_form.green_filter_short_limit.value="422.0";
        }
      };
      function blue_filter_preset_select() {
        if (settings_form.blue_filter_preset.value == "ACS-WFC-F435W") {
          settings_form.blue_filter_long_limit.value="480.0";
          settings_form.blue_filter_short_limit.value="385.0";
        } else if (settings_form.blue_filter_preset.value == "ACS-WFC-F475W") {
          settings_form.blue_filter_long_limit.value="545.0";
          settings_form.blue_filter_short_limit.value="405.0";
        } else if (settings_form.blue_filter_preset.value == "ACS-WFC-F555W") {
          settings_form.blue_filter_long_limit.value="600.0";
          settings_form.blue_filter_short_limit.value="475.0";
        } else if (settings_form.blue_filter_preset.value == "ACS-WFC-F606W") {
          settings_form.blue_filter_long_limit.value="710.0";
          settings_form.blue_filter_short_limit.value="475.0";
        } else if (settings_form.blue_filter_preset.value == "ACS-WFC-F625W") {
          settings_form.blue_filter_long_limit.value="705.0";
          settings_form.blue_filter_short_limit.value="560.0";
        } else if (settings_form.blue_filter_preset.value == "ACS-WFC-F775W") {
          settings_form.blue_filter_long_limit.value="850.0";
          settings_form.blue_filter_short_limit.value="700.0";
        } else if (settings_form.blue_filter_preset.value == "ACS-WFC-F814W") {
          settings_form.blue_filter_long_limit.value="890.0";
          settings_form.blue_filter_short_limit.value="705.0";
        } else if (settings_form.blue_filter_preset.value == "WFC3-UVIS-F336W") {
          settings_form.blue_filter_long_limit.value="365.0";
          settings_form.blue_filter_short_limit.value="307.0";
        } else if (settings_form.blue_filter_preset.value == "WFC3-UVIS-F390W") {
          settings_form.blue_filter_long_limit.value="400.0";
          settings_form.blue_filter_short_limit.value="391.0";
        } else if (settings_form.blue_filter_preset.value == "WFC3-UVIS-F438W") {
          settings_form.blue_filter_long_limit.value="465.0";
          settings_form.blue_filter_short_limit.value="395.0";
        } else if (settings_form.blue_filter_preset.value == "WFC3-UVIS-F475W") {
          settings_form.blue_filter_long_limit.value="600.0";
          settings_form.blue_filter_short_limit.value="375.0";
        } else if (settings_form.blue_filter_preset.value == "WFC3-UVIS-F555W") {
          settings_form.blue_filter_long_limit.value="600.0";
          settings_form.blue_filter_short_limit.value="445.0";
        } else if (settings_form.blue_filter_preset.value == "WFC3-UVIS-F606W") {
          settings_form.blue_filter_long_limit.value="710.0";
          settings_form.blue_filter_short_limit.value="475.0";
        } else if (settings_form.blue_filter_preset.value == "WFC3-UVIS-F625W") {
          settings_form.blue_filter_long_limit.value="705.0";
          settings_form.blue_filter_short_limit.value="550.0";
        } else if (settings_form.blue_filter_preset.value == "WFC3-UVIS-F775W") {
          settings_form.blue_filter_long_limit.value="850.0";
          settings_form.blue_filter_short_limit.value="695.0";
        } else if (settings_form.blue_filter_preset.value == "WFC3-UVIS-F814W") {
          settings_form.blue_filter_long_limit.value="870.0";
          settings_form.blue_filter_short_limit.value="705.0";
        } else if (settings_form.blue_filter_preset.value == "Typical-LRGB-Blue") {
          settings_form.blue_filter_long_limit.value="495.0";
          settings_form.blue_filter_short_limit.value="405.0";
        } else if (settings_form.blue_filter_preset.value == "Typical-LRGB-Green") {
          settings_form.blue_filter_long_limit.value="590.0";
          settings_form.blue_filter_short_limit.value="495.0";
        } else if (settings_form.blue_filter_preset.value == "Typical-LRGB-Red") {
          settings_form.blue_filter_long_limit.value="710.0";
          settings_form.blue_filter_short_limit.value="590.0";
        } else if (settings_form.blue_filter_preset.value == "CIE-1931-Red") {
          settings_form.blue_filter_long_limit.value="639.0";
          settings_form.blue_filter_short_limit.value="571.0";
        } else if (settings_form.blue_filter_preset.value == "CIE-1931-Green") {
          settings_form.blue_filter_long_limit.value="589.0";
          settings_form.blue_filter_short_limit.value="505.0";
        } else if (settings_form.blue_filter_preset.value == "CIE-1931-Blue") {
          settings_form.blue_filter_long_limit.value="479.0";
          settings_form.blue_filter_short_limit.value="422.0";
        }
      };
      function set_camera_icrs_preset_user() {
        navigation_form.camera_icrs_preset.value="User";
      };
      function set_target_icrs_preset_user() {
        navigation_form.target_icrs_preset.value="User";
      };
      function camera_icrs_preset_select() {
        if (navigation_form.camera_icrs_preset.value == "Sun") {
          navigation_form.camera_icrs_ra.value="0.0";
          navigation_form.camera_icrs_dec.value="0.0";
          navigation_form.camera_icrs_r.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Galactic Center") {
          navigation_form.camera_icrs_ra.value="266.4168371";
          navigation_form.camera_icrs_dec.value="-29.0078106";
          navigation_form.camera_icrs_r.value="8178.0";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Galactic Anticenter") {
          navigation_form.camera_icrs_ra.value="86.4";
          navigation_form.camera_icrs_dec.value="28.94";
          navigation_form.camera_icrs_r.value="1.0E5";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Galactic North Pole") {
          navigation_form.camera_icrs_ra.value="192.85";
          navigation_form.camera_icrs_dec.value="27.13";
          navigation_form.camera_icrs_r.value="1.0E5";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Galactic South Pole") {
          navigation_form.camera_icrs_ra.value="12.85";
          navigation_form.camera_icrs_dec.value="-27.13";
          navigation_form.camera_icrs_r.value="1.0E5";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "LMC") {
          navigation_form.camera_icrs_ra.value="80.89375";
          navigation_form.camera_icrs_dec.value="-69.756111";
          navigation_form.camera_icrs_r.value="50000.0";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "SMC") {
          navigation_form.camera_icrs_ra.value="13.1866667";
          navigation_form.camera_icrs_dec.value="-72.82861111";
          navigation_form.camera_icrs_r.value="50000.0";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Crux") {
          navigation_form.camera_icrs_ra.value="187.5";
          navigation_form.camera_icrs_dec.value="-60.0";
          navigation_form.camera_icrs_r.value="100.0";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Orion") {
          navigation_form.camera_icrs_ra.value="84.053333333333";
          navigation_form.camera_icrs_dec.value="-1.201916666667";
          navigation_form.camera_icrs_r.value="264.0";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Pleiades") {
          navigation_form.camera_icrs_ra.value="56.85";
          navigation_form.camera_icrs_dec.value="24.12";
          navigation_form.camera_icrs_r.value="136.0";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Sirius A") {
          navigation_form.camera_icrs_ra.value="101.28715533";
          navigation_form.camera_icrs_dec.value="-16.71611586";
          navigation_form.camera_icrs_r.value="2.64";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Sirius B") {
          navigation_form.camera_icrs_ra.value="101.28750000";
          navigation_form.camera_icrs_dec.value="-16.71500000";
          navigation_form.camera_icrs_r.value="2.64";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Arcturus") {
          navigation_form.camera_icrs_ra.value="213.91541667";
          navigation_form.camera_icrs_dec.value="19.18222222";
          navigation_form.camera_icrs_r.value="11.26";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Alpha Centauri A") {
          navigation_form.camera_icrs_ra.value="219.90205833";
          navigation_form.camera_icrs_dec.value="-60.83399269";
          navigation_form.camera_icrs_r.value="1.34";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Alpha Centauri B") {
          navigation_form.camera_icrs_ra.value="219.89609629";
          navigation_form.camera_icrs_dec.value="-60.83752756";
          navigation_form.camera_icrs_r.value="1.34";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Proxima Centauri") {
          navigation_form.camera_icrs_ra.value="217.39232147200883";
          navigation_form.camera_icrs_dec.value="-62.67607511676666";
          navigation_form.camera_icrs_r.value="1.3019705311704333";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Vega") {
          navigation_form.camera_icrs_ra.value="279.23473479";
          navigation_form.camera_icrs_dec.value="38.78368894";
          navigation_form.camera_icrs_r.value="7.68";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Procyon A") {
          navigation_form.camera_icrs_ra.value="114.82549792";
          navigation_form.camera_icrs_dec.value="5.22498756";
          navigation_form.camera_icrs_r.value="3.51";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Altair") {
          navigation_form.camera_icrs_ra.value="297.69582729";
          navigation_form.camera_icrs_dec.value="8.86832119";
          navigation_form.camera_icrs_r.value="5.13";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.camera_icrs_preset.value == "Fomalhaut") {
          navigation_form.camera_icrs_ra.value="344.41269375";
          navigation_form.camera_icrs_dec.value="-29.62223611";
          navigation_form.camera_icrs_r.value="7.70";
          navigation_form.camera_rotation.value="0.0";
        }
      };
      function target_icrs_preset_select() {
        if (navigation_form.target_icrs_preset.value == "Sun") {
          navigation_form.target_icrs_ra.value="0.0";
          navigation_form.target_icrs_dec.value="0.0";
          navigation_form.target_icrs_r.value="0.0";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "Galactic Center") {
          navigation_form.target_icrs_ra.value="266.4168371";
          navigation_form.target_icrs_dec.value="-29.0078106";
          navigation_form.target_icrs_r.value="8178.0";
          navigation_form.camera_rotation.value="-58.6";
        } else if (navigation_form.target_icrs_preset.value == "Galactic Anticenter") {
          navigation_form.target_icrs_ra.value="86.4";
          navigation_form.target_icrs_dec.value="28.94";
          navigation_form.target_icrs_r.value="1.0E5";
          navigation_form.camera_rotation.value="58.6";
        } else if (navigation_form.target_icrs_preset.value == "Galactic North Pole") {
          navigation_form.target_icrs_ra.value="192.85";
          navigation_form.target_icrs_dec.value="27.13";
          navigation_form.target_icrs_r.value="1.0E5";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "Galactic South Pole") {
          navigation_form.target_icrs_ra.value="12.85";
          navigation_form.target_icrs_dec.value="-27.13";
          navigation_form.target_icrs_r.value="1.0E5";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "LMC") {
          navigation_form.target_icrs_ra.value="80.89375";
          navigation_form.target_icrs_dec.value="-69.756111";
          navigation_form.target_icrs_r.value="50000.0";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "SMC") {
          navigation_form.target_icrs_ra.value="13.1866667";
          navigation_form.target_icrs_dec.value="-72.82861111";
          navigation_form.target_icrs_r.value="50000.0";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "Crux") {
          navigation_form.target_icrs_ra.value="187.5";
          navigation_form.target_icrs_dec.value="-60.0";
          navigation_form.target_icrs_r.value="100.0";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "Orion") {
          navigation_form.target_icrs_ra.value="84.053333333333";
          navigation_form.target_icrs_dec.value="-1.201916666667";
          navigation_form.target_icrs_r.value="264.0";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "Pleiades") {
          navigation_form.target_icrs_ra.value="56.85";
          navigation_form.target_icrs_dec.value="24.12";
          navigation_form.target_icrs_r.value="136.0";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "Sirius A") {
          navigation_form.target_icrs_ra.value="101.28715533";
          navigation_form.target_icrs_dec.value="-16.71611586";
          navigation_form.target_icrs_r.value="2.64";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "Sirius B") {
          navigation_form.target_icrs_ra.value="101.28750000";
          navigation_form.target_icrs_dec.value="-16.71500000";
          navigation_form.target_icrs_r.value="2.64";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "Arcturus") {
          navigation_form.target_icrs_ra.value="213.91541667";
          navigation_form.target_icrs_dec.value="19.18222222";
          navigation_form.target_icrs_r.value="11.26";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "Alpha Centauri A") {
          navigation_form.target_icrs_ra.value="219.90205833";
          navigation_form.target_icrs_dec.value="-60.83399269";
          navigation_form.target_icrs_r.value="1.34";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "Alpha Centauri B") {
          navigation_form.target_icrs_ra.value="219.89609629";
          navigation_form.target_icrs_dec.value="-60.83752756";
          navigation_form.target_icrs_r.value="1.34";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "Proxima Centauri") {
          navigation_form.target_icrs_ra.value="217.39232147200883";
          navigation_form.target_icrs_dec.value="-62.67607511676666";
          navigation_form.target_icrs_r.value="1.3019705311704333";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "Vega") {
          navigation_form.target_icrs_ra.value="279.23473479";
          navigation_form.target_icrs_dec.value="38.78368894";
          navigation_form.target_icrs_r.value="7.68";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "Procyon A") {
          navigation_form.target_icrs_ra.value="114.82549792";
          navigation_form.target_icrs_dec.value="5.22498756";
          navigation_form.target_icrs_r.value="3.51";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "Altair") {
          navigation_form.target_icrs_ra.value="297.69582729";
          navigation_form.target_icrs_dec.value="8.86832119";
          navigation_form.target_icrs_r.value="5.13";
          navigation_form.camera_rotation.value="0.0";
        } else if (navigation_form.target_icrs_preset.value == "Fomalhaut") {
          navigation_form.target_icrs_ra.value="344.41269375";
          navigation_form.target_icrs_dec.value="-29.62223611";
          navigation_form.target_icrs_r.value="7.70";
          navigation_form.camera_rotation.value="0.0";
        }
      };
      function reset_forms() {
        navigation_form.reset();
        settings_form.reset(); 
        updateSettings();
      };
      function copy_settings_url_to_clipboard() {
        copy_text = settings_form.settings_url;
        copy_text.select();
        copy_text.setSelectionRange(0, 99999);
        document.execCommand("copy");
      }
    </script>
  </head>
  <body>
    <main role="main">
      <div id="settings_style">
        <form name="settings_form" onchange="updateSettings()">
          <fieldset>
            <legend>About</legend>
            <div id="centered">
              Sample web interface for
              <h2><a href="https://github.com/kevinloch/bsrender">bsrender</a> 1.0-dev-20</h2>
              using data from <a href="https://www.cosmos.esa.int/web/gaia/dr3">Gaia DR3</a>
              <br>and supplemental <a href="https://bsrender.io/sample_data/1.0-dev/external.csv">bright stars</a>
            </div>
            <p>
            <div id="button_style">
              <button type="reset" onclick="reset_forms()">Reset to defaults</button><button type="button" onclick="abortRender()">Stop</button><button type="button" onclick="updateImage()">Render</button>
            </div>
            <table style="margin-left:auto;margin-right:auto;">
              <tr><td>Rendering server</td><td><input type="text" name="rendering_server" id="rendering_server" size="25" value="http://r1.bsrender.io/r/"></td></tr>
            </table>
            <p><div id="centered">
              <a id="image_download_link" href="">Image download link</a>
            </div>
          </fieldset>
          <fieldset>
            <legend>Shareable Settings URL</legend>
            <table style="margin-left:auto;margin-right:auto;">
            <tr><td>
              <div id="button_style">
                <td><button type="button" onclick="copy_settings_url_to_clipboard()">Copy</button></td><td><input type="text" id="settings_url" name="setting
s_url" size=30 value=""></td></tr>
              </div>
            </table>
          </fieldset>
          <fieldset>
            <legend>Star Filters</legend>
            <label for "Gaia_db_enable">Show Gaia stars</label>
            <select name="Gaia_db_enable" id="Gaia_db_enable">
              <option value="yes" selected>yes</option>
              <option value="no">no</option>
            </select>
            <br><label for="Gaia_min_parallax_quality">Gaia min parallax quality</label>
            <select name="Gaia_min_parallax_quality" id="Gaia_min_parallax_quality">
              <option value="0" selected>0 [1.47B stars]</option>
              <option value="1">1 [763M stars]</option>
              <option value="2">2 [478M stars]</option>
              <option value="3">3 [320M stars]</option>
              <option value="5">5 [192M stars]</option>
              <option value="10">10 [98M stars]</option>
              <option value="20">20 [49M stars]</option>
              <option value="30">30 [31M stars]</option>
              <option value="50">50 [16M stars]</option>
              <option value="100">100 [5.8M] stars</option>
            </select>
            <br><br><label for "external_db_enable">Show non-Gaia stars</label>
            <select name="external_db_enable" id="external_db_enable">
              <option value="yes" selected>yes</option>
              <option value="no">no</option>
            </select>
            <br><center><em>123 bright stars not included in the Gaia dataset</em></center>
            <br><label for="render_distance_min">Min render distance (parsec)</label>
            <input type="text" name="render_distance_min" id="render_distance_min" size="12" value="0.0">
            <br><label for="render_distance_max">Max render distance (parsec)</label>
            <input type="text" name="render_distance_max" id="render_distance_max" size="12" value="1.0E99">
            <br><label for "render_distance_selector">Render distance from</label>
            <select name="render_distance_selector" id="render_distance_selector">
              <option value="0" selected>camera</option>
              <option value="1">target</option>
            </select>
            <br><br><label for="star_intensity_min">Min star intensity (mag)</label>
            <input type="text" name="star_intensity_min" id="star_intensity_min" size="12" value="1.0E99">
            <br><label for="star_intensity_max">Max star intensity (mag)</label>
            <input type="text" name="star_intensity_max" id="star_intensity_max" size="12" value="-1.0E99">
            <br><label for "star_intensity_selector">Intensity measured from</label>
            <select name="star_intensity_selector" id="star_intensity_selector">
              <option value="0" selected>camera</option>
              <option value="1">Earth</option>
              <option value="2">10 parsecs</option>
            </select>
            <br><br><label for="star_color_min">Min star temperature (K)</label>
            <input type="text" name="star_color_min" id="star_color_min" size="12" value="0.0">
            <br><label for="star_color_max">Max star termperature (K)</label>
            <input type="text" name="star_color_max" id="star_color_max" size="12" value="1.0E99">
          </fieldset>
          <fieldset>
            <legend>Extinction Removal</legend>
            <div id="centered">
              <em>From Gaia DR3 <a href="https://gea.esac.esa.int/archive/documentation/GDR3/Data_analysis/chap_cu8par/sec_cu8par_apsis/ssec_cu8par_apsis_gspphot.html">GSP-Phot</a>
              <br>Caution: effects may be exaggerated for some stars</em>
            </div>
            <br><label for "extinction_dimming_undo">Undo dimming</label>
            <select name="extinction_dimming_undo" id="extinction_dimming_undo">
              <option value="no" selected>no</option>
              <option value="yes">yes</option>
            </select>
            <br><label for "extinction_reddening_undo">Undo reddening</label>
            <select name="extinction_reddening_undo" id="extinction_reddening_undo">
              <option value="no" selected>no</option>
              <option value="yes">yes</option>
            </select>
          </fieldset>
          <fieldset>
            <legend>camera Options</legend>
            <label for "camera_res_x">Horizontal resolution</label>
            <input type="text" id="camera_res_x" name="camera_res_x" size="12" value="4000">
            <br><label for "camera_res_y">Vertical resolution</label>
            <input type="text" id="camera_res_y" name="camera_res_y" size="12" value="2000">
            <br><label for "camera_fov">Field of view (deg)</label>
            <input type="text" id="camera_fov" name="camera_fov" size="12" value="360"> (Zoom)
            <br><label for "camera_pixel_limit_mag">Pixel intensity limit (mag)</label>
            <input type="text" id="camera_pixel_limit_mag" name="camera_pixel_limit_mag" size="12" value="8.0"> (Exposure)
            <br><label for "camera_pixel_limit_mode">Pixel intensity limit mode</label>
            <select name="camera_pixel_limit_mode" id="camera_pixel_limit_mode">
              <option value="-1" selected>default</option>
              <option value="0">saturate to white</option>
              <option value="1">Preserve color</option>
              <option value="2">none (fp only)</option>
            </select>
            <br><label for "camera_wb_enable">Enable white balance</label>
            <select name="camera_wb_enable" id="camera_wb_enable">
              <option value="no">no</option>
              <option value="yes" selected>yes</option>
            </select>
            <br><label for "camera_wb_temp">White balance (K)</label>
            <input type="text" id="camera_wb_temp" name="camera_wb_temp" size="12" value="4300">
            <br><label for "camera_color_saturation">Color saturation</label>
            <input type="text" id="camera_color_saturation" name="camera_color_saturation" size="12" value="1.0">
            <br><label for "camera_gamma">Gamma</label>
            <input type="text" id="camera_gamma" name="camera_gamma" size="12" value="1.0">
            <br><label for "camera_projection">Raster projection</label>
            <select name="camera_projection" id="camera_projection">
              <option value="0">lat/lon (equirectangular)</option>
              <option value="1">spherical</option>
              <option value="2">Hammer</option>
              <option value="3">Mollewide</option>
            </select>
            <br><label for "spherical_orientation">Spherical orientation</label>
            <select name="spherical_orientation" id="spherical_orientation">
              <option value="0">forward centered</option>
              <option value="1">side-by-side</option>
            </select>
          </fieldset>
          <fieldset>
            <legend>Camera Bandpass Filters</legend>
            <div id="centered">
              <em>Wavelength in nm</em>
            </div>
            <div id="centered">
              <table style="margin-left:auto;margin-right:auto;">
                <tr><td>Red</td><td><select name="red_filter_preset" id="red_filter_preset" onchange="red_filter_preset_select()">
                  <option value="ACS-WFC-F814W">ACS WFC F814W</option>
                  <option value="ACS-WFC-F775W">ACS WFC F775W</option>
                  <option value="ACS-WFC-F625W">ACS WFC F625W</option>
                  <option value="ACS-WFC-F606W">ACS WFC F606W</option>
                  <option value="ACS-WFC-F555W">ACS WFC F555W</option>
                  <option value="ACS-WFC-F475W">ACS WFC F475W</option>
                  <option value="ACS-WFC-F435W">ACS WFC F435W</option>
                  <option value="CIE-1931-Red">CIE 1931 Red</option>
                  <option value="CIE-1931-Green">CIE 1931 Green</option>
                  <option value="CIE-1931-Blue">CIE 1931 Blue</option>
                  <option value="Typical-LRGB-Red">Typical LRGB Red</option>
                  <option value="Typical-LRGB-Green">Typical LRGB Green</option>
                  <option value="Typical-LRGB-Blue">Typical LRGB Blue</option>
                  <option value="WFC3-UVIS-F814W">WFC3 UVIS F814W</option>
                  <option value="WFC3-UVIS-F775W">WFC3 UVIS F775W</option>
                  <option value="WFC3-UVIS-F625W" selected>WFC3 UVIS F625W</option>
                  <option value="WFC3-UVIS-F606W">WFC3 UVIS F606W</option>
                  <option value="WFC3-UVIS-F555W">WFC3 UVIS F555W</option>
                  <option value="WFC3-UVIS-F475W">WFC3 UVIS F475W</option>
                  <option value="WFC3-UVIS-F438W">WFC3 UVIS F438W</option>
                  <option value="WFC3-UVIS-F390W">WFC3 UVIS F390W</option>
                  <option value="WFC3-UVIS-F336W">WFC3 UVIS F336W</option>
                  <option value="User">User</option>
                </select></td>
                <td><input type="text" id="red_filter_long_limit" name="red_filter_long_limit" size="12" value="705.0" onchange="set_red_filter_preset_user()"></td>
                <td>-</td>
                <td><input type="text" id="red_filter_short_limit" name="red_filter_short_limit" size="12" value="550.0" onchange="set_red_filter_preset_user()"></td></tr>
                <tr><td>Green</td><td><select name="green_filter_preset" id="green_filter_preset" onchange="green_filter_preset_select()">
                  <option value="ACS-WFC-F814W">ACS WFC F814W</option>
                  <option value="ACS-WFC-F775W">ACS WFC F775W</option>
                  <option value="ACS-WFC-F625W">ACS WFC F625W</option>
                  <option value="ACS-WFC-F606W">ACS WFC F606W</option>
                  <option value="ACS-WFC-F555W">ACS WFC F555W</option>
                  <option value="ACS-WFC-F475W">ACS WFC F475W</option>
                  <option value="ACS-WFC-F435W">ACS WFC F435W</option>
                  <option value="CIE-1931-Red">CIE 1931 Red</option>
                  <option value="CIE-1931-Green">CIE 1931 Green</option>
                  <option value="CIE-1931-Blue">CIE 1931 Blue</option>
                  <option value="Typical-LRGB-Red">Typical LRGB Red</option>
                  <option value="Typical-LRGB-Green">Typical LRGB Green</option>
                  <option value="Typical-LRGB-Blue">Typical LRGB Blue</option>
                  <option value="WFC3-UVIS-F814W">WFC3 UVIS F814W</option>
                  <option value="WFC3-UVIS-F775W">WFC3 UVIS F775W</option>
                  <option value="WFC3-UVIS-F625W">WFC3 UVIS F625W</option>
                  <option value="WFC3-UVIS-F606W">WFC3 UVIS F606W</option>
                  <option value="WFC3-UVIS-F555W" selected>WFC3 UVIS F555W</option>
                  <option value="WFC3-UVIS-F475W">WFC3 UVIS F475W</option>
                  <option value="WFC3-UVIS-F438W">WFC3 UVIS F438W</option>
                  <option value="WFC3-UVIS-F390W">WFC3 UVIS F390W</option>
                  <option value="WFC3-UVIS-F336W">WFC3 UVIS F336W</option>
                  <option value="User">User</option>
                </select></td>
                <td><input type="text" id="green_filter_long_limit" name="green_filter_long_limit" size="12" value="600.0" onchange="set_green_filter_preset_user()"></td>
                <td>-</td>
                <td><input type="text" id="green_filter_short_limit" name="green_filter_short_limit" size="12" value="445.0" onchange="set_green_filter_preset_user()"></td></tr>
                <tr><td>Blue</td><td><select name="blue_filter_preset" id="blue_filter_preset" onchange="blue_filter_preset_select()">
                  <option value="ACS-WFC-F814W">ACS WFC F814W</option>
                  <option value="ACS-WFC-F775W">ACS WFC F775W</option>
                  <option value="ACS-WFC-F625W">ACS WFC F625W</option>
                  <option value="ACS-WFC-F606W">ACS WFC F606W</option>
                  <option value="ACS-WFC-F555W">ACS WFC F555W</option>
                  <option value="ACS-WFC-F475W">ACS WFC F475W</option>
                  <option value="ACS-WFC-F435W">ACS WFC F435W</option>
                  <option value="CIE-1931-Red">CIE 1931 Red</option>
                  <option value="CIE-1931-Green">CIE 1931 Green</option>
                  <option value="CIE-1931-Blue">CIE 1931 Blue</option>
                  <option value="Typical-LRGB-Red">Typical LRGB Red</option>
                  <option value="Typical-LRGB-Green">Typical LRGB Green</option>
                  <option value="Typical-LRGB-Blue">Typical LRGB Blue</option>
                  <option value="WFC3-UVIS-F814W">WFC3 UVIS F814W</option>
                  <option value="WFC3-UVIS-F775W">WFC3 UVIS F775W</option>
                  <option value="WFC3-UVIS-F625W">WFC3 UVIS F625W</option>
                  <option value="WFC3-UVIS-F606W">WFC3 UVIS F606W</option>
                  <option value="WFC3-UVIS-F555W">WFC3 UVIS F555W</option>
                  <option value="WFC3-UVIS-F475W">WFC3 UVIS F475W</option>
                  <option value="WFC3-UVIS-F438W" selected>WFC3 UVIS F438W</option>
                  <option value="WFC3-UVIS-F390W">WFC3 UVIS F390W</option>
                  <option value="WFC3-UVIS-F336W">WFC3 UVIS F336W</option>
                  <option value="User">User</option>
                </select></td>
                <td><input type="text" id="blue_filter_long_limit" name="blue_filter_long_limit" size="12" value="465.0" onchange="set_blue_filter_preset_user()"></td>
                <td>-</td>
                <td><input type="text" id="blue_filter_short_limit" name="blue_filter_short_limit" size="12" value="395.0" onchange="set_blue_filter_preset_user()"></td></tr>
              </table>
            </div>
          </fieldset>
          <fieldset>
            <legend>Diffraction</legend>
            <div id="centered">
              <em>Caution: Airy disk extent (radius cutoff) is autoscaled
              <br>for each star. A large number of overexposed stars can
              <br>drastically increase rendering time</em>
            </div>
            <br><label for "Airy_disk_enable">Enable Airy disks</label>
            <select name="Airy_disk_enable" id="Airy_disk_enable">
              <option value="no" selected>no</option>
              <option value="yes">yes</option>
            </select>
            <br><label for "Airy_disk_first_null">Airy disk first null (pixels)</label>
            <input type="text" id="Airy_disk_first_null" name="Airy_disk_first_null" size="12" value="0.75"> <em>min 0.3</em>
            <br><label for "Airy_disk_max_extent">Airy disk max extent (pixels)</label>
            <input type="text" id="Airy_disk_max_extent" name="Airy_disk_max_extent" size="12" value="100"> <em>max 1000</em>
            <br><label for "Airy_disk_min_extent">Airy disk min extent (pixels)</label>
            <input type="text" id="Airy_disk_min_extent" name="Airy_disk_min_extent" size="12" value="1"> <em>max 3</em>
            <br><label for "Airy_disk_obstruction">Aperture obstruction (ratio)</label>
            <input type="text" id="Airy_disk_obstruction" name="Airy_disk_obstruction" size="12" value="0.0"> <em>0.0 - 0.99</em>
          </fieldset>
          <fieldset>
            <div id="centered">
              <em>Useful when combining images into video
              <br>or simulating cameras with AA filters</em>
            </div>
            <br><legend>Anti-aliasing</legend>
            <label for="anti_alias_enable">Enable anti-aliasing</label>
            <select name="anti_alias_enable" id="anti_alias_enable">
              <option value="no" selected>no</option>
              <option value="yes">yes</option>
            </select>
            <br><label for="anti_alias_radius">Anti-alias radius (pixels)</label>
            <input type="text" name="anti_alias_radius" id="anti_alias_radius" size="12" value="1.0"> <em>0.5 - 2.0</em>
          </fieldset>
          <fieldset>
            <legend>Skyglow</legend>
            <label for="skyglow_enable">Enable skyglow</label>
            <select name="skyglow_enable" id="skyglow_enable">
              <option value="no" selected>no</option>
              <option value="yes">yes</option>
            </select>
            <br><label for="skyglow_temp">Color temp (K)</label>
            <input type="text" name="skyglow_temp" id="skyglow_temp" size="12" value="4500.0">
            <br><label for="skyglow_per_pixel_mag">Per pixel intensity (mag)</label>
            <input type="text" name="skyglow_per_pixel_mag" id="skyglow_per_pixel_mag" size="12" value="14.0">
          </fieldset>
          <fieldset>
            <div id="centered">
              <em>Recommended blur is 1 / (4 * scaling) when downscaling</em>
            </div>
            <br><legend>Post-processing</legend>
            <label for "pre_limit_intensity">Pre-limit intensity</label>
            <select name="pre_limit_intensity" id="pre_limit_intensity">
              <option value="no">no</option>
              <option value="yes" selected>yes</option>
            </select>
            (before blur/resize)
            <br><label for="Gaussian_blur_radius">Gaussian blur radius</label>
            <input type="text" name="Gaussian_blur_radius" id="Gaussian_blur_radius" size="12" value="0.0">
            <br><label for="output_scaling_factor">Output scaling factor</label>
            <input type="text" name="output_scaling_factor" id="output_scaling_factor" size="12" value="1.0">
            <br><label for="Lanczos_order">Lanczos order</label>
            <input type="text" name="Lanczos_order" id="Lanczos_order" size="12" value="3"> <em>2 - 10</em>
          </fieldset>
          <fieldset>
            <legend>Overlays</legend>
            <label for "draw_crosshairs">Draw crosshairs</label>
            <select name="draw_crosshairs" id="draw_crosshairs">
              <option value="no" selected>no</option>
              <option value="yes">yes</option>
            </select>
            <br><label for "draw_grid_lines">Draw grid lines</label>
            <select name="draw_grid_lines" id="draw_grid_lines">
              <option value="no" selected>no</option>
              <option value="yes">yes</option>
            </select>
          </fieldset>
          <fieldset>
            <legend>Output</legend>
            <label for "output_format">Output format</label>
            <select name="output_format" id="output_format">
              <option value="0" selected>PNG 8-bit integer</option>
              <option value="1">PNG 16-bit integer</option>
              <option value="2">EXR 16-bit half</option>
              <option value="3">EXR 32-bit float</option>
              <option value="4">EXR 32-bit integer</option>
            </select>
            <br><label for "exr_compression">OpenEXR compression</label>
            <select name="exr_compression" id="exr_compression">
              <option value="0">None</option>
              <option value="1" disabled>RLE</option>
              <option value="2">ZIPS (1 line per block)</option>
              <option value="3" selected>ZIP (16 lines per block)</option>
              <option value="4" disabled>PIZ</option>
            </select>
            <br><label for "icc_profile">ICC profile</label>
            <select name="rgb_color_spce" id="icc_profile">
              <option value="-1" selected>default</option>
              <option value="1">sRGB</option>
              <option value="2">Display P3 (compatible Z)</option>
              <option value="3">Rec. 2020 (compatible Z)</option>
              <option value="4">Rec. 601 NTSC</option>
              <option value="5">Rec. 601 PAL</option>
              <option value="6">Rec. 709</option>
              <option value="0">none - linear gamma</option>
              <option value="7">none - 2.0 gamma</option>
            </select>
            <div id="centered">
            <br><em>ICC profiles are compact
             <a href="https://github.com/saucecontrol/Compact-ICC-Profiles">open source</a> version 4.
             <br>The EXR format does not support ICC profiles or encoding gamma. Instead, the 
             chromaticities associated with the selected profile are included in the header</em>
             </div>
          </fieldset>
        </form>
      </div>
      <div id="content_style">
        <article>
          <form name="navigation_form" onchange="updateSettings()">
            <div id="navigation_style">
              <fieldset>
                <legend>Camera Position</legend>
                <div id="centered">
                  <em>ICRS coordinates (deg, parsec)</em>
                </div>
                <div id="centered">
                  <table style="margin-left:auto;margin-right:auto;">
                    <tr><td>Preset</td><td><select name="camera_icrs_preset" id="camera_icrs_preset" onchange="camera_icrs_preset_select()">
                      <option value="Sun" selected>Sun</option>
                      <option value="Galactic Center">Galactic Center</option>
                      <option value="Galactic Anticenter">Galactic Anticenter</option>
                      <option value="Galactic North Pole">Galactic North Pole</option>
                      <option value="Galactic South Pole">Galactic South Pole</option>
                      <option value="LMC">LMC</option>
                      <option value="SMC">SMC</option>
                      <option value="Crux">Crux</option>
                      <option value="Orion">Orion</option>
                      <option value="Pleiades">Pleiades</option>
                      <option value="Sirius A">Sirius A</option>
                      <option value="Sirius B">Sirius B</option>
                      <option value="Arcturus">Arcturus</option>
                      <option value="Alpha Centauri A">Alpha Centauri A</option>
                      <option value="Alpha Centauri B">Alpha Centauri B</option>
                      <option value="Proxima Centauri">Proxima Centauri</option>
                      <option value="Vega">Vega</option>
                      <option value="Procyon A">Procyon A</option>
                      <option value="Altair">Altair</option>
                      <option value="Fomalhaut">Fomalhaut</option>
                      <option value="User">User</option>
                    </select></td></tr>
                    <tr><td>ra</td><td><input type="text" id="camera_icrs_ra" name="camera_icrs_ra" size="12" value="0.0" onchange="set_camera_icrs_preset_user()"></td></tr>
                    <tr><td>dec</td><td><input type="text" id="camera_icrs_dec" name="camera_icrs_dec" size="12" value="0.0" onchange="set_camera_icrs_preset_user()"></td></tr>
                    <tr><td>r</td><td><input type="text" id="camera_icrs_r" name="camera_icrs_r" size="12" value="0.0" onchange="set_camera_icrs_preset_user()"></td></tr>
                  </table>
                </div>
              </fieldset>
            </div>
            <div id="navigation_style">
              <fieldset>
                <legend>Target Position</legend>
                <div id="centered">
                  <em>ICRS coordinates (deg, parsec)</em>
                </div>
                <div id="centered">
                  <table style="margin-left:auto;margin-right:auto;">
                    <tr><td>Preset</td><td><select name="target_icrs_preset" id="target_icrs_preset" onchange="target_icrs_preset_select()">
                      <option value="Sun">Sun</option>
                      <option value="Galactic Center" selected>Galactic Center</option>
                      <option value="Galactic Anticenter">Galactic Anticenter</option>
                      <option value="Galactic North Pole">Galactic North Pole</option>
                      <option value="Galactic South Pole">Galactic South Pole</option>
                      <option value="LMC">LMC</option>
                      <option value="SMC">SMC</option>
                      <option value="Crux">Crux</option>
                      <option value="Orion">Orion</option>
                      <option value="Pleiades">Pleiades</option>
                      <option value="Sirius A">Sirius A</option>
                      <option value="Sirius B">Sirius B</option>
                      <option value="Arcturus">Arcturus</option>
                      <option value="Alpha Centauri A">Alpha Centauri A</option>
                      <option value="Alpha Centauri B">Alpha Centauri B</option>
                      <option value="Proxima Centauri">Proxima Centauri</option>
                      <option value="Vega">Vega</option>
                      <option value="Procyon A">Procyon A</option>
                      <option value="Altair">Altair</option>
                      <option value="Fomalhaut">Fomalhaut</option>
                      <option value="User">User</option>
                    </select></td></tr>
                    <tr><td>ra</td><td><input type="text" id="target_icrs_ra" name="target_icrs_ra" size="12" value="266.4168371" onchange="set_target_icrs_preset_user()"></td></tr>
                    <tr><td>dec</td><td><input type="text" id="target_icrs_dec" name="target_icrs_dec" size="12" value="-29.0078106" onchange="set_target_icrs_preset_user()"></td></tr>
                    <tr><td>r</td><td><input type="text" id="target_icrs_r" name="target_icrs_r" size="12" value="8178.0" onchange="set_target_icrs_preset_user()"></td></tr>
                  </table>
                </div>
              </fieldset>
            </div>
            <div id="navigation_style">
              <fieldset>
                <legend>Camera Rotate/Pan/Tilt</legend>
                <div id="centered">
                  <em>After aiming at target (deg)</em>
                </div>
                <div id="centered">
                  <table style="margin-left:auto;margin-right:auto;">
                    <tr><td>&nbsp;</td><td>&nbsp;</td></tr>
                    <tr><td>Rotate</td><td><input type="text" id="camera_rotation" name="camera_rotation" size="12" value="-58.6"></td></tr>
                    <tr><td>Pan</td><td><input type="text" id="camera_pan" name="camera_pan" size="12" value="0.0"></td></tr>
                    <tr><td>Tilt</td><td><input type="text" id="camera_tilt" name="camera_tilt" size="12" value="0.0"></td></tr>
                  </table>
                </div>
              </fieldset>
            </div>
          </form>
        </article>
        <script>
          loadSettingsFromURL();
        </script>
        <article>
          <div id="rendering_style">
            <div id="status_message">
            </div>
            <br><img alt="" src="" id="render_image">
            <script>
              updateImage();
            </script>
          </div>
        </article>
      </div>
    </main>
  </body>
  <footer>
    <p>
    <center>Data credit:
    <p>
    This work has made use of data from the European Space Agency (ESA) mission Gaia (<a href="https://www.cosmos.esa.int/gaia">https://www.cosmos.esa.int/gaia</a>),
    <br>processed by the Gaia Data Processing and Analysis Consortium (DPAC, <a href="https://www.cosmos.esa.int/web/gaia/dpac/consortium">https://www.cosmos.esa.int/web/gaia/dpac/consortium</a>).
    </center>
  </footer>
</html>
